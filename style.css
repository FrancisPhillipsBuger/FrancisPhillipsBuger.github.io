/*
 * Custom styles for Francis’ personal page.
 *
 * The layout and many of the dark‑mode interactions take inspiration
 * from Jeannette Bohg’s personal website and Cassidy Williams’ template.
 */

html, body {
  width: 100%;
  margin: 0;
  padding: 0;
  font-family: "Roboto Mono", monospace;
  background: #fff;
  color: #000;
  /* Ensure the body always covers at least the full viewport height so that the
     background color extends to the bottom of the page.  Without this, short
     pages in dark mode expose the html element's white background at the
     bottom of the viewport. */
  min-height: 100vh;
}

/* Dark mode applies when the <body> element has the class 'dark-mode'. */
body.dark-mode {
  background: #000;
  color: #fff;
}

/* Apply the dark mode background and foreground colours to the <html> element when
   it has the dark-mode class.  This ensures that areas outside of the body (for
   example, when the content is shorter than the viewport height) still have the
   correct dark background instead of reverting to the default white canvas. */
html.dark-mode {
  background: #000;
  color: #fff;
}

/* Universal selection highlight. */
::selection {
  background-color: #eb4888;
  color: #000;
}

button {
  /* Pill shaped toggle buttons inspired by Jeannette Bohg’s original design. */
  display: inline-block;
  min-width: 72px;
  height: 32px;
  padding: 2px 14px;
  border: 2px solid #96979c;
  border-radius: 22px;
  box-sizing: border-box;
  color: #96979c;
  font-size: 0.9rem;
  font-family: inherit;
  background: transparent;
  transition: background 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  cursor: pointer;
}

button:hover {
  /* Subtle hover effect: light grey on light mode, semi‑transparent on dark mode. */
  background: rgba(150, 151, 156, 0.1);
}

/* Highlight the active button.  In light mode, active buttons have a white interior with
   coloured text and border.  In dark mode the interior uses a semi‑transparent tint. */
button.active {
  border-color: #eb4888;
  color: #eb4888;
  background-color: #fff;
}

body.dark-mode button.active {
  background-color: rgba(235, 72, 136, 0.15);
}

/* Dark‑mode adjustments for buttons: more contrast for default state. */
body.dark-mode button {
  border-color: #777;
  color: #aaa;
  background: transparent;
}

body.dark-mode button:hover {
  background: rgba(255, 255, 255, 0.08);
}

.container {
  /* Use padding instead of top margin so that the body's background colour remains visible in dark mode.
     A top margin on the first child can collapse with the body's margin and reveal the html's default
     background (white) as a bar at the top of the page.  By using padding we avoid that collapse. */
  margin: 0 auto;
  padding: 50px 5px 5px;
  max-width: 800px;
}

@media (max-width: 600px) {
  .container {
    /* Add top padding on small screens as well to prevent margin collapse. */
    padding: 40px 20px 20px;
  }
}

.header-section {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
}

.header-frame {
  max-width: 400px;
}

h1 {
  font-weight: 400;
  margin: 0;
  font-size: 2.2rem;
}

h2 {
  color: #96979c;
  font-weight: 300;
  margin: 0.4em 0 0;
  font-size: 1.1rem;
}

.img-frame {
  position: relative;
  width: 260px;
  height: 260px;
  margin: 10px 0;
  border-radius: 50%;
  overflow: hidden;
}

.img-frame img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: auto;
  height: 100%;
}

.links {
  margin: 25px 0;
}

.links a {
  /* Animated underline effect similar to cassidoo.co */
  position: relative;
  display: inline-block;
  margin-right: 16px;
  color: #96979c; /* individual links override this via inline color */
  font-size: 0.9rem;
  text-decoration: none; /* we'll draw our own underline */
  padding-bottom: 2px; /* space for underline bar */
}

.links a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -3px;
  height: 4px;
  width: 100%;
  background-color: currentColor; /* match the link color */
  border-radius: 2px;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 200ms ease-in-out;
}

.links a:hover::after,
.links a:focus-visible::after,
.links a.active::after {
  transform: scaleX(1);
}

@media (max-width: 600px) {
  .links {
    text-align: center;
  }
  .links a {
    display: inline-block;
    margin: 6px 10px;
  }
}

/* Toggle button group */
.toggler {
  margin: 25px 0;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.toggler button {
  flex: 0 0 auto; /* prevent stretching; keep natural width */
  min-width: 60px;
}

@media (max-width: 600px) {
  .toggler {
    justify-content: center;
  }
}

/* Bio sections hidden by default except the one with .show */
.bio {
  display: none;
  line-height: 1.6;
  font-size: 0.95rem;
}

.bio.show {
  display: block;
}

/* List style for projects */
.bio ul {
  list-style-type: disc;
  padding-left: 20px;
}

.bio li {
  margin-bottom: 6px;
}

/* Table styling for skills */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
  font-size: 0.85rem;
}

th, td {
  border: 1px solid #d0d0d0;
  padding: 8px 12px;
  text-align: left;
}

th {
  background-color: #f5f5f5;
  color: #333;
}

/* Dark mode table adjustments */
body.dark-mode th {
  background-color: #222;
  color: #eee;
}
body.dark-mode td,
body.dark-mode th {
  border-color: #444;
}
body.dark-mode table {
  color: #ddd;
}

/* Citation markers appear inline and small.  Apply to any element with the 'citation' class (e.g. <a>, <span>). */
.citation {
  font-size: 0.75rem;
  vertical-align: super;
  text-decoration: none;
  cursor: default;
  color: inherit;
}

.citation:hover {
  text-decoration: underline;
}

/* Dark mode toggler positioning */
.dark-mode-toggler {
  position: fixed;
  top: 10px;
  right: 10px;
}

.dark-mode-toggler input[type="checkbox"] {
  display: none;
}

.dark-mode-toggler input[type="checkbox"] + label::before {
  content: "";
  display: block;
  height: 26px;
  width: 60px;
  background: #fff;
  border: 2px solid #96979c;
  border-radius: 15px;
  position: absolute;
  top: 0;
  left: -65px;
  transition: background 0.4s ease;
}

.dark-mode-toggler input[type="checkbox"] + label::after {
  content: "";
  display: block;
  height: 20px;
  width: 20px;
  background: #96979c;
  border: 2px solid #fff;
  border-radius: 50%;
  position: absolute;
  top: 3px;
  left: -62px;
  transition: left 0.4s ease, background 0.4s ease;
}

.dark-mode-toggler input[type="checkbox"]:checked + label::before {
  background: #000;
  border: 2px solid #fff;
}

.dark-mode-toggler input[type="checkbox"]:checked + label::after {
  left: -28px;
  /* When dark mode is enabled the knob uses the accent color so it remains visible on a dark background. */
  background: #eb4888;
  border: 2px solid #fff;
}

/* Additional styling for dark mode toggle in dark mode: adjust the track and knob colours for better contrast. */
body.dark-mode .dark-mode-toggler input[type="checkbox"] + label::before {
  background: #222;
  border-color: #888;
}

body.dark-mode .dark-mode-toggler input[type="checkbox"] + label::after {
  background: #888;
  border-color: #222;
}

body.dark-mode .dark-mode-toggler input[type="checkbox"]:checked + label::after {
  background: #eb4888;
  border-color: #eb4888;
}

/* Attribution styling */
.attribution {
  margin: 40px auto;
  max-width: 800px;
  font-size: 0.8rem;
  color: #96979c;
  line-height: 1.4;
}

body.dark-mode .attribution {
  color: #777;
}